<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

<style>
  :root{
    --rm-primary:#3cf696;
    --rm-primary-2:#22d67f;
    --rm-ink:#0f172a;
    --rm-muted: rgba(15, 23, 42, 0.70);
    --rm-border: rgba(15, 23, 42, 0.10);
    --rm-shadow: 0 18px 40px rgba(2, 6, 23, 0.12);
    --rm-radius: 18px;

    --sb-w: 270px;
    --sb-w-collapsed: 86px;
    --sb-z: 1040;
  }

  .rm-admin-sidebar{
    position: fixed;
    inset: 0 auto 0 0;
    width: var(--sb-w);
    height: 100vh;
    z-index: var(--sb-z);
    padding: 14px;
    background: linear-gradient(135deg, rgba(60,246,150,0.92), rgba(34,214,127,0.88));
    border-right: 1px solid rgba(255,255,255,0.40);
    box-shadow: 0 18px 40px rgba(2,6,23,0.10);
    overflow: hidden;
    display:flex;
    flex-direction: column;
    transition: width 180ms ease, transform 220ms ease;
  }

  body.sb-collapsed .rm-admin-sidebar{ width: var(--sb-w-collapsed); }
  body.sb-collapsed .rm-sb-text,
  body.sb-collapsed .rm-sb-sub,
  body.sb-collapsed .rm-sb-hello,
  body.sb-collapsed .rm-sb-small{ display:none; }
  body.sb-collapsed .rm-sb-nav a{ justify-content:center; padding: 12px 10px; }
  body.sb-collapsed .rm-sb-nav i{ margin:0; }
  body.sb-collapsed .rm-sb-user{ justify-content:center; }
  body.sb-collapsed .rm-sb-user > div{ display:none; }

  .rm-sb-head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    padding: 6px 6px 12px 6px;
  }

  .rm-sb-brand{
    display:flex;
    align-items:center;
    gap: 12px;
    text-decoration:none;
    color: rgba(15,23,42,0.95);
  }

  .rm-sb-badge{
    width: 52px;
    height: 52px;
    border-radius: 16px;
    background: rgba(255,255,255,0.45);
    border: 1px solid rgba(255,255,255,0.55);
    box-shadow: 0 10px 18px rgba(2,6,23,0.10);
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    flex: 0 0 auto;
  }

  .rm-sb-badge img{
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 6px;
    display:block;
  }

  .rm-sb-title{
    display:flex;
    flex-direction:column;
    line-height:1.1;
  }
  .rm-sb-text{
    margin:0;
    font-weight: 900;
    letter-spacing: 0.2px;
    font-size: 16px;
  }
  .rm-sb-sub{
    margin: 2px 0 0 0;
    font-weight: 800;
    font-size: 12px;
    color: rgba(15,23,42,0.70);
  }

  .rm-sb-toggle{
    width: 44px;
    height: 44px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.55);
    background: rgba(255,255,255,0.35);
    color: rgba(15,23,42,0.90);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    transition: transform 160ms ease, background 160ms ease;
  }
  .rm-sb-toggle:hover{
    transform: translateY(-1px);
    background: rgba(255,255,255,0.50);
  }

  .rm-sb-user{
    margin-top: 6px;
    border-radius: var(--rm-radius);
    background: rgba(255,255,255,0.30);
    border: 1px solid rgba(255,255,255,0.45);
    box-shadow: 0 12px 18px rgba(2,6,23,0.08);
    padding: 12px 12px;
    display:flex;
    gap: 10px;
    align-items:center;
  }

  .rm-sb-avatar{
    width: 40px;
    height: 40px;
    border-radius: 999px;
    background: rgba(15,23,42,0.85);
    display:flex;
    align-items:center;
    justify-content:center;
    flex: 0 0 auto;
  }
  .rm-sb-avatar i{ color: rgba(255,255,255,0.90); }

  .rm-sb-hello{
    font-weight: 900;
    margin:0;
    color: rgba(15,23,42,0.92);
  }
  .rm-sb-small{
    font-weight: 800;
    margin: 3px 0 0 0;
    font-size: 12px;
    color: rgba(15,23,42,0.70);
  }

  .rm-sb-nav{
    margin-top: 14px;
    display:flex;
    flex-direction:column;
    gap: 10px;
    overflow:auto;
    padding-right: 2px;
  }

  .rm-sb-nav a{
    display:flex;
    align-items:center;
    gap: 12px;
    padding: 12px 14px;
    border-radius: 16px;
    text-decoration:none;
    font-weight: 900;
    color: rgba(15,23,42,0.92);
    background: rgba(255,255,255,0.25);
    border: 1px solid rgba(255,255,255,0.42);
    box-shadow: 0 10px 18px rgba(2,6,23,0.06);
    transition: transform 160ms ease, background 160ms ease, box-shadow 160ms ease;
  }
  .rm-sb-nav a:hover{
    transform: translateY(-1px);
    background: rgba(255,255,255,0.40);
    box-shadow: 0 16px 26px rgba(2,6,23,0.10);
  }

  .rm-sb-nav i{
    width: 22px;
    text-align:center;
    color: rgba(15,23,42,0.92);
  }

  .rm-sb-foot{
    margin-top:auto;
    padding-top: 12px;
  }

  .rm-sb-divider{
    height: 1px;
    background: rgba(255,255,255,0.45);
    margin: 12px 4px;
    border-radius: 999px;
  }

  .rm-sb-logout{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:12px 14px;
    border-radius:16px;
    font-weight:900;
    color:rgba(15,23,42,0.92);
    background:rgba(255,255,255,0.30);
    border:1px solid rgba(255,255,255,0.45);
    transition:background 160ms ease, box-shadow 160ms ease, transform 160ms ease;
  }
  .rm-sb-logout:hover{
    transform: translateY(-1px);
    background:rgba(255,255,255,0.45);
    box-shadow:0 14px 26px rgba(2,6,23,0.12);
    text-decoration:none;
    color:rgba(15,23,42,0.92);
  }

  .rm-sb-backdrop{
    position: fixed;
    inset: 0;
    background: rgba(2,6,23,0.45);
    backdrop-filter: blur(2px);
    z-index: calc(var(--sb-z) - 1);
    display:none;
  }

  @media (max-width: 991.98px){
    .rm-admin-sidebar{
      transform: translateX(-110%);
      width: 290px;
      border-radius: 0 22px 22px 0;
    }
    body.sb-open .rm-admin-sidebar{ transform: translateX(0); }
    body.sb-open .rm-sb-backdrop{ display:block; }
  }

  .rm-sb-fab{
    position: fixed;
    left: 14px;
    bottom: 14px;
    z-index: calc(var(--sb-z) + 1);
    width: 54px;
    height: 54px;
    border-radius: 18px;
    border: none;
    background: linear-gradient(135deg, var(--rm-primary), var(--rm-primary-2));
    color: rgba(15,23,42,0.92);
    box-shadow: 0 18px 30px rgba(34,214,127,0.22);
    display:none;
    align-items:center;
    justify-content:center;
    font-size: 18px;
  }
  @media (max-width: 991.98px){
    .rm-sb-fab{ display:inline-flex; }
  }
</style>

<div class="rm-sb-backdrop" id="rmSbBackdrop" aria-hidden="true"></div>

<aside class="rm-admin-sidebar" id="rmAdminSidebar" aria-label="Admin Sidebar">
  <div class="rm-sb-head">
    <a class="rm-sb-brand" href="/admin/dashboard">
      <div class="rm-sb-badge">
        <img src="/images/NavImg.jpg" alt="RMHUB Logo">
      </div>
      <div class="rm-sb-title">
        <p class="rm-sb-text">RMHUB</p>
        <p class="rm-sb-sub">Admin Console</p>
      </div>
    </a>

    <button class="rm-sb-toggle" id="rmSbToggle" type="button" aria-label="Toggle sidebar">
      <i class="fas fa-angle-left"></i>
    </button>
  </div>

  <div class="rm-sb-user">
    <div class="rm-sb-avatar" aria-hidden="true"><i class="fas fa-user"></i></div>
    <div>
      <p class="rm-sb-hello">Hello Admin!</p>
      <p class="rm-sb-small">Manage RMHUB operations</p>
    </div>
  </div>

  <div class="rm-sb-divider"></div>

  <nav class="rm-sb-nav">
    <a href="/admin/dashboard"><i class="fas fa-th-large"></i><span class="rm-sb-text">Dashboard</span></a>
    <a href="/admin/users"><i class="fas fa-users"></i><span class="rm-sb-text">Users</span></a>
    <a href="/admin/products"><i class="fas fa-box-open"></i><span class="rm-sb-text">Products</span></a>
    <a href="/admin/category"><i class="fas fa-tags"></i><span class="rm-sb-text">Category</span></a>
    <a href="/admin/orders"><i class="fas fa-receipt"></i><span class="rm-sb-text">Orders</span></a>
    <a href="/admin/sales-report"><i class="fas fa-chart-line"></i><span class="rm-sb-text">Sales Report</span></a>
    <a href="/coupon/coupon"><i class="fas fa-ticket-alt"></i><span class="rm-sb-text">Coupons</span></a>
  </nav>

  <div class="rm-sb-foot">
    <div class="rm-sb-divider"></div>
    <a class="rm-sb-logout" href="/admin/logout">
      <div style="display:flex;align-items:center;gap:12px;">
        <i class="fas fa-sign-out-alt"></i>
        <span class="rm-sb-text">Logout</span>
      </div>
      <i class="fas fa-arrow-right"></i>
    </a>
  </div>
</aside>

<button class="rm-sb-fab" id="rmSbFab" type="button" aria-label="Open menu">
  <i class="fas fa-bars"></i>
</button>

<script>
  (function(){
    const toggleBtn = document.getElementById('rmSbToggle');
    const fabBtn = document.getElementById('rmSbFab');
    const backdrop = document.getElementById('rmSbBackdrop');

    function setCollapsed(next){
      if (next) document.body.classList.add('sb-collapsed');
      else document.body.classList.remove('sb-collapsed');
      try { localStorage.setItem('rm_admin_sb_collapsed', next ? '1' : '0'); } catch(e){}
    }

    function syncToggleIcon() {
      if (!toggleBtn) return;
      const icon = toggleBtn.querySelector('i');
      if (!icon) return;

      if (document.body.classList.contains('sb-collapsed')) {
        icon.classList.remove('fa-angle-left');
        icon.classList.add('fa-angle-right');
      } else {
        icon.classList.remove('fa-angle-right');
        icon.classList.add('fa-angle-left');
      }
    }

    function closeMobile(){ document.body.classList.remove('sb-open'); }
    function openMobile(){ document.body.classList.add('sb-open'); }

    try {
      const saved = localStorage.getItem('rm_admin_sb_collapsed');
      if (saved === '1') document.body.classList.add('sb-collapsed');
    } catch(e){}

    syncToggleIcon();

    toggleBtn && toggleBtn.addEventListener('click', function(){
      const isMobile = window.matchMedia('(max-width: 991.98px)').matches;

      if (isMobile){
        document.body.classList.toggle('sb-open');
        return;
      }

      const next = !document.body.classList.contains('sb-collapsed');
      setCollapsed(next);
      syncToggleIcon();
    });

    fabBtn && fabBtn.addEventListener('click', openMobile);
    backdrop && backdrop.addEventListener('click', closeMobile);

    document.querySelectorAll('.rm-sb-nav a').forEach(a=>{
      a.addEventListener('click', function(){
        if (window.matchMedia('(max-width: 991.98px)').matches) closeMobile();
      });
    });

    window.addEventListener('resize', () => {
      if (!window.matchMedia('(max-width: 991.98px)').matches) {
        closeMobile();
      }
    });
  })();
</script>
